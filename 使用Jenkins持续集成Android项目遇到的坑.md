#使用Jenkins持续集成Android项目遇到的坑
在使用Jenkins配置Android项目的时候遇到了一些坑，总结下：
##gradle.properties没有提交
错误：
```
example/bulid.gradle

FAILURE: Build failed with an exception.

* Where:
Build file '/Users/Shared/Jenkins/Home/jobs/android-crop/workspace/build.gradle' line: 12

* What went wrong:
A problem occurred evaluating root project 'workspace'.
> Could not find property 'VERSION' on root project 'workspace'.

```
使用Android Studio打开一个项目的时候默认会生成`gradle.properties`,但是在使用Jenkins集成的时候使用的是`gradle build`不会自动生成`gradle.properties`,就会出现上面的错误，需要把`gradle.properties`。

##无法使用.ssh中的private key
因为Jenkins新建了一个用户，改用户无法读取我当前使用用户的ssh private key,因此我在`Add credentials`中输入了private key:

##构建项目权限不足
```
* What went wrong:
java.io.IOException: Permission denied
> Permission denied
```
这个问题是Jenkins的用户的权限不足，需要给Jenkins用户足够的权限

>sudo chown -R Jenkins /Users/Shared/Jenkins/

##设置sdk.dir
`local.properties`同样的也可以在Android studio中自动由环境变量生成，但是在使用`gradle build`的时候也是无法创建的。因此需要自己定义一个`local.properties`指定`sdk.dir`的位置。
```
## This file is automatically generated by Android Studio.
# Do not modify this file -- YOUR CHANGES WILL BE ERASED!
#
# This file must *NOT* be checked into Version Control Systems,
# as it contains information specific to your local configuration.
#
# Location of the SDK. This is only used by Gradle.
# For customization when using a Version Control System, please read the
# header note.
#Fri Dec 11 16:57:33 CST 2015
sdk.dir=/Users/Shared/Jenkins/Home/tools/android-sdk
```

##使用插件
Jenkins提供各种强大的插件`Gradle plugin`的，可以配置本地的gradle。
`Git Parameter Plug-In`,可以帮助在Jenkins中更好的管理git。
`Android Emulator Plugin`,帮助管理Android sdk的，也可以帮助集成Android项目。
Jenkins的有各种强大的插件，如果某个配置，某个工具不知道怎么使用了，可以尝试找下对应的插件。


